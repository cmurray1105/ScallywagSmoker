(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{157:function(e,t,a){},158:function(e,t,a){},245:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a(0),n=a.n(c),s=a(16),o=a.n(s),i=(a(157),a(158),a(85)),l=a(14),d=a(65),j=a(66),u=a(32),b=a(81),h=a(80),O=function(e){return Object(r.jsx)("div",{className:"bannerContainer",children:Object(r.jsx)("img",{className:"logo",src:"https://bbqbucket2020.s3.us-east-2.amazonaws.com/logo.jpg"})})},p=a(19),x=a(275),m=a(274),g=a(136),v=a(277),f=a(295),y=a(129),S=a.n(y),N=a(40),C=a.n(N),w=(a(177),a(103));function T(e){var t=n.a.useState(!1),a=Object(p.a)(t,2),c=a[0],s=a[1],o=n.a.useState("Santa Rita Ranch South"),i=Object(p.a)(o,2),l=i[0],d=i[1],j=n.a.useState(""),u=Object(p.a)(j,2),b=u[0],h=u[1],O=n.a.useState(""),y=Object(p.a)(O,2),N=y[0],T=y[1],D=n.a.useState(new Date),I=Object(p.a)(D,2),k=I[0],q=I[1],R=n.a.useState(""),P=Object(p.a)(R,2),_=P[0],B=P[1],M=n.a.useState(null),E=Object(p.a)(M,2),Q=E[0],A=E[1];console.log("props",e);var z=Object(m.a)((function(e){return{paper:{position:"absolute",width:400,maxHeight:800,backgroundColor:e.palette.background.paper,border:"none",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none"}}})),F=Object(g.a)({overrides:{MuiButton:{text:{background:"linear-gradient(45deg, rgb(112, 112, 112) 30%, rgb(198, 199, 199) 90%)",borderRadius:3,border:0,color:"white",height:48,padding:"0 30px",boxShadow:"0 3px 5px 2px  grey"}}}}),G=z(),H=function(){s(!1)},J=Object(r.jsxs)("div",{className:G.paper,children:[Object(r.jsx)("h2",{id:"simple-modal-title",children:"Delivery Info"}),Object(r.jsxs)("h3",{children:["Total $",e.priceString]}),Object(r.jsx)("div",{className:"order-summary"}),Object(r.jsx)("div",{className:"order-form",children:Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault(),C.a.post("/addOrder",{address:N,customerName:b,deliveryDate:k,neighborhood:l,cartItems:e.cartItems,email:_,phone:Q}).then((function(t){var a={from_name:"christopher.murray.bbqdev@gmail.com",to_name:_,customerName:b,message_html:function(){var t="",a=[];for(var r in e.cartItems)a.push(r);for(var c=0;c<a.length;c++)c===a.length-1?t+="".concat(a[c]):t+="".concat(a[c],", ");return console.log(t),t}()};for(var r in w.send("service_6gxzrwa","template_fu5eins",a,"user_975JwJzPB6r4yxiDzOfHn"),e.cartItems)C.a.post("./updateQuantity",{quantity:e.cartItems[r].originalQuantity-e.cartItems[r].quantity,productName:r}).then((function(e){})).catch((function(e){console.log(e)}));H(),e.clearOrder()})).catch((function(e){e&&console.log(e)}))},children:[Object(r.jsxs)("label",{children:["Select Your Neighborhood:",Object(r.jsx)("br",{}),Object(r.jsxs)("select",{value:l,onChange:function(e){return d(e.target.value)},children:[Object(r.jsx)("option",{value:"Santa Rita Ranch South",children:"Santa Rita Ranch South"}),Object(r.jsx)("option",{value:"Santa Rita Ranch North",children:"Santa Rita Ranch North"}),Object(r.jsx)("option",{value:"Morningstar",children:"Morningstar"})]})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{children:["Name:",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{children:["Street Address:",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",value:N,onChange:function(e){return T(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{children:["Email Address:",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",value:_,onChange:function(e){return B(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{children:["Phone:",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",value:Q,onChange:function(e){return A(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{children:["Delivery Date",Object(r.jsx)("br",{}),Object(r.jsx)(S.a,{selected:k,onChange:function(e){return q(e)},minDate:new Date,maxDate:new Date(2021,1,31)})]}),Object(r.jsx)("br",{}),Object(r.jsx)(x.a,{type:"submit",value:"Submit",children:"Submit"})]})})]});return console.log((new Date).toISOString().slice(0,19).replace("T"," ")),Object(r.jsxs)("div",{children:[Object(r.jsx)(v.a,{theme:F,children:Object(r.jsx)(x.a,{className:"checkoutButton",onClick:function(){s(!0)},children:"Checkout"})}),Object(r.jsx)(f.a,{open:c,onClose:H,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:J})]})}w.init("user_975JwJzPB6r4yxiDzOfHn");var D=function(e){var t=function(t){console.log("func console",e.cartItems);var a=t.toString();return a.includes(".")?(1===a.split(".")[1].length&&(a+="0"),a.split(".")[1].length>2&&(a=a.split(".")[0]+"."+a.split(".")[1].slice(0,2))):a+=".00",a},a=t(e.total),c=null;if(e.cartItems){console.log(Object.keys(e.cartItems),"item length");var n=Object.keys(e.cartItems);console.log("products",e.products,"selected Items",typeof n[0]),c=n.map((function(a){return Object(r.jsxs)("div",{children:[e.cartItems[a].quantity," X ",a,": $",t(e.cartItems[a].price*e.cartItems[a].quantity)]})}))}return Object(r.jsxs)("div",{children:[c,"Total Due: $",a,Object(r.jsx)(T,{clearOrder:e.clearOrder,priceString:a,total:e.total,products:e.products,cartItems:e.cartItems})]})},I=a(294),k=a(285),q=a(284),R=a(278),P=a(279),_=a(283),B=a(281),M=a(280),E=a(282),Q=a(293),A=a(132),z=a.n(A),F=function(e){var t=e.loaded,a=e.products,c=e.addToCart,s=e.cartItems,o=n.a.useState(!1),i=Object(p.a)(o,2),l=i[0],d=i[1],j=n.a.useState("0"),u=Object(p.a)(j,2),b=u[0],h=u[1],O=n.a.useState(""),g=Object(p.a)(O,2),v=(g[0],g[1],n.a.useState({})),y=Object(p.a)(v,2),S=y[0],N=y[1];console.log("T/F?",!s);var C=0,w=S.quantity,T=Object(m.a)({root:{width:250,marginTop:25,marginBottom:25,height:400,outline:"none",border:"none"},media:{height:250,width:250}}),D=Object(m.a)((function(e){return{paper:{position:"absolute",width:400,maxHeight:800,backgroundColor:e.palette.background.paper,border:"none",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none",top:"33%",textAlign:"center",left:"40%"}}})),I=T(),k=D(),q=function(){d(!1)};s[S.product_name]&&(C=s[S.product_name].quantity,w=S.quantity-C);var A=Object(r.jsxs)("div",{className:k.paper,children:[Object(r.jsx)("h2",{id:"simple-modal-title",children:S.product_name}),Object(r.jsxs)("div",{className:"order-form",children:[w<5?Object(r.jsxs)("div",{children:["Only ",w," left"]}):null,Object(r.jsxs)("form",{onSubmit:function(e){console.log("currentQuantity",w,"selectedQuantity",C),e.preventDefault(),console.log("currentProduct.quantity",S.quantity,"selectedQuantity",C),w-C<0?alert("Please select another quantity. Only ".concat(w," left!")):(c({productName:S.product_name,quantity:parseInt(b),price:S.price,id:S.id,originalQuantity:S.quantity}),q())},children:[Object(r.jsxs)("label",{children:["Quantity:",Object(r.jsx)("select",{onChange:function(e){return h(e.target.value)},children:function(){for(var e=[],t=0;t<=w;t++)e.push(Object(r.jsx)("option",{value:t,children:t}));return e}()})]}),Object(r.jsx)(x.a,{type:"submit",children:Object(r.jsx)(z.a,{})})]})]})]}),F=[];return console.log(t),t?(F=a,Object(r.jsx)("div",{className:"box-container",children:Object(r.jsx)(Q.a,{display:"flex",p:1,m:1,css:{maxWidth:300},children:F.map((function(e){console.log(e);var t=e.price.toString();return console.log(t.length),t.includes(".")?1===t.split(".")[1].length&&(t+="0"):t+=".00",Object(r.jsx)(Q.a,{p:1,children:Object(r.jsxs)("div",{className:"cardContainer",children:[Object(r.jsx)(R.a,{className:I.root,height:400,onClick:function(){N(e),d(!0)},children:Object(r.jsxs)(Q.a,{p:1,children:[Object(r.jsxs)(P.a,{children:[Object(r.jsx)(M.a,{className:I.media,image:e.image_url,title:e.product_name}),Object(r.jsxs)(B.a,{children:[Object(r.jsx)(E.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.product_name}),Object(r.jsxs)(E.a,{variant:"body2",color:"textSecondary",component:"p",children:["$",t]})]})]}),Object(r.jsx)(_.a,{})]})}),Object(r.jsx)(f.a,{open:l,onClose:q,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:A})]})})}))})})):null};Object(m.a)((function(e){return{root:{flexGrow:1,width:"100%"}}}));var G=function(e){var t=n.a.useState(0),a=Object(p.a)(t,2),c=a[0],s=a[1],o=["Meats","Sides","Combos","Dessert","Catering","Gift Shop"];return Object(r.jsxs)("div",{children:[Object(r.jsx)(q.a,{position:"static",color:"default",centered:!0,children:Object(r.jsxs)(I.a,{className:"tab-content",value:c,variant:"scrollable",scrollButtons:"auto",onChange:function(t,a){s(a),e.getProducts(o[a])},children:[Object(r.jsx)(k.a,{className:"menuTab",label:"Meats"}),Object(r.jsx)(k.a,{className:"menuTab",label:"Sides"}),Object(r.jsx)(k.a,{className:"menuTab",label:"Combos"}),Object(r.jsx)(k.a,{className:"menuTab",eventKey:"Dessert",title:"Dessert",label:"Dessert"}),Object(r.jsx)(k.a,{className:"menuTab",eventKey:"Catering",title:"Catering",label:"Catering"}),Object(r.jsx)(k.a,{className:"menuTab",eventKey:"Gift Shop",title:"Gift Shop",label:"Gift Shop"})]})}),Object(r.jsx)("div",{className:"productsContainer",children:Object(r.jsx)(F,{addToCart:e.addToCart,products:e.products,loaded:e.loaded,cartItems:e.cartItems})})]})},H=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={products:[],loaded:!1,total:0,cart:{}},r.getProducts=r.getProducts.bind(Object(u.a)(r)),r.addToCart=r.addToCart.bind(Object(u.a)(r)),r.clearOrder=r.clearOrder.bind(Object(u.a)(r)),r}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getProducts("meats")}},{key:"getProducts",value:function(e){var t=this;C.a.get("/products",{params:{product:e}}).then((function(e){t.setState({products:e.data,loaded:!0})})).catch((function(e){console.log(e)}))}},{key:"addToCart",value:function(e){var t=this.state.total,a=this.state.cart;console.log("ITEMMMM",e),a[e.productName]?a[e.productName].quantity+=e.quantity:a[e.productName]={quantity:e.quantity,id:e.id,originalQuantity:e.originalQuantity,price:e.price},console.log("TOTAL TYPE",typeof t),t+=e.price*e.quantity,console.log("parse",parseInt(t)),this.setState({cart:a,total:t})}},{key:"clearOrder",value:function(){this.setState({cart:{},total:0})}},{key:"render",value:function(){return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("div",{className:"header",children:Object(r.jsx)(O,{})}),Object(r.jsx)("div",{className:"body",children:Object(r.jsx)(G,{addToCart:this.addToCart,getProducts:this.getProducts,products:this.state.products,loaded:this.state.loaded,cartItems:this.state.cart})}),Object(r.jsx)("div",{className:"bbqList",children:Object(r.jsx)(D,{clearOrder:this.clearOrder,total:this.state.total,products:this.state.products,cartItems:this.state.cart})}),Object(r.jsx)("div",{className:"footer"})]})})}}]),a}(a(133).Component),J=a(289),L=a(291),$=a(287),K=a(292),U=a(290),W=a(286),Y=a(139),X=a(296),V=a(288),Z=a(135),ee=a.n(Z),te=a(134),ae=a.n(te),re=Object(m.a)({root:{"& > *":{borderBottom:"unset"}}});var ce=function(e){var t=e.row,a=n.a.useState(!1),c=Object(p.a)(a,2),s=c[0],o=c[1],i=re();t.products=t.products||[],console.log("ROW!!!!!!!",t);var l=t.deliveryDate.split("-"),d=l[0],j=l[2].slice(0,2),u=l[1],b="".concat(u,"/").concat(j,"/").concat(d);return Object(r.jsxs)(n.a.Fragment,{children:[Object(r.jsxs)(W.a,{className:i.root,children:[Object(r.jsx)($.a,{children:Object(r.jsx)(V.a,{"aria-label":"expand row",size:"small",onClick:function(){return o(!s)},children:s?Object(r.jsx)(ae.a,{}):Object(r.jsx)(ee.a,{})})}),Object(r.jsx)($.a,{component:"th",scope:"row",children:t.name}),Object(r.jsx)($.a,{align:"right",children:t.neighborhood}),Object(r.jsx)($.a,{align:"right",children:t.address}),Object(r.jsx)($.a,{align:"right",children:t.email}),Object(r.jsx)($.a,{align:"right",children:t.phone}),Object(r.jsx)($.a,{align:"right",children:b}),Object(r.jsx)($.a,{align:"right",children:t.total}),Object(r.jsx)("button",{children:"order fulfilled"})]}),Object(r.jsx)(W.a,{children:Object(r.jsx)($.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(r.jsx)(X.a,{in:s,timeout:"auto",unmountOnExit:!0,children:Object(r.jsxs)(Q.a,{margin:1,children:[Object(r.jsx)(E.a,{variant:"h6",gutterBottom:!0,component:"div",children:"Order Summary"}),Object(r.jsxs)(J.a,{size:"small","aria-label":"purchases",children:[Object(r.jsx)(U.a,{children:Object(r.jsxs)(W.a,{children:[Object(r.jsx)($.a,{align:"right",children:"Quantity"}),Object(r.jsx)($.a,{children:"Product"}),Object(r.jsx)($.a,{children:"Price"})]})}),Object(r.jsx)(L.a,{children:t.products.map((function(e){return console.log("proRo",e),Object(r.jsxs)(W.a,{children:[Object(r.jsx)($.a,{align:"right",children:e.quantity}),Object(r.jsx)($.a,{component:"th",scope:"row",children:e.productName}),Object(r.jsxs)($.a,{children:["$",e.price]})]},e.productName)}))})]})]})})})})]})},ne=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={rows:[],orders:{},loaded:!1},r.createData=r.createData.bind(Object(u.a)(r)),r.fillRows=r.fillRows.bind(Object(u.a)(r)),r.getOrders=r.getOrders.bind(Object(u.a)(r)),r}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.getOrders()}},{key:"getOrders",value:function(){var e=this;C.a.get("/getOrders").then((function(t){for(var a in console.log("getOrders",t.data),e.setState({orders:t.data,loaded:!0}),console.log("!!!!",e.state.orders),e.state.orders){for(var r=0,c=0;c<e.state.orders[a].products.length;c++)r+=e.state.orders[a].products[c].price;console.log("TOTAL!!",r)}})).then((function(t){e.fillRows()})).catch((function(e){console.log(e)}))}},{key:"createData",value:function(e,t,a,r,c,n,s,o){return{name:e,neighborhood:t,address:a,email:r,phone:c,deliveryDate:n,total:s,products:o}}},{key:"fillRows",value:function(){var e=[];for(var t in this.state.orders){console.log("PRODUCT",t,"STATE ORDERS",this.state.orders);for(var a=0,r=0;r<this.state.orders[t].products.length;r++)a+=this.state.orders[t].products[r].price*this.state.orders[t].products[r].quantity;var c=a.toString();console.log(c.length),c.includes(".")?(1===c.split(".")[1].length&&(c+="0"),c.split(".")[1].length>2&&(c=c.split(".")[0]+"."+c.split(".")[1].slice(0,2))):c+=".00",console.log("TOTAL BEFORE PUSHING",c),e.push(this.createData(this.state.orders[t].customer,this.state.orders[t].neighborhood,this.state.orders[t].address,this.state.orders[t].email,this.state.orders[t].phone,this.state.orders[t].deliveryDate,"$".concat(c),this.state.orders[t].products))}console.log("America",e),this.setState({rows:e})}},{key:"render",value:function(){return Object(r.jsx)(K.a,{component:Y.a,children:Object(r.jsxs)(J.a,{"aria-label":"collapsible table",children:[Object(r.jsx)(U.a,{children:Object(r.jsxs)(W.a,{children:[Object(r.jsx)($.a,{}),Object(r.jsx)($.a,{children:" Customer Name"}),Object(r.jsx)($.a,{align:"right",children:"Neighborhood"}),Object(r.jsx)($.a,{align:"right",children:"Address"}),Object(r.jsx)($.a,{align:"right",children:"Email"}),Object(r.jsx)($.a,{align:"right",children:"Phone"}),Object(r.jsx)($.a,{align:"right",children:"Delivery Date "}),Object(r.jsx)($.a,{align:"right",children:"Total"})]})}),Object(r.jsx)(L.a,{children:this.state.rows.map((function(e){return Object(r.jsx)(ce,{row:e},e.name)}))})]})})}}]),a}(n.a.Component);function se(){return Object(r.jsx)(i.a,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("nav",{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(i.b,{to:"/",children:"Home"})}),Object(r.jsx)("li",{children:Object(r.jsx)(i.b,{to:"/orders",children:"Orders"})})]})}),Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{path:"/orders",children:Object(r.jsx)(ne,{})}),Object(r.jsx)(l.a,{path:"/",children:Object(r.jsx)(H,{})})]})]})})}var oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,298)).then((function(t){var a=t.getCLS,r=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),r(e),c(e),n(e),s(e)}))};o.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(se,{})}),document.getElementById("root")),oe()}},[[245,1,2]]]);
//# sourceMappingURL=main.2214d57e.chunk.js.map