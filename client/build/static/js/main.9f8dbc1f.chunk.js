(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{160:function(e,t,a){},161:function(e,t,a){},248:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a(0),c=a.n(n),o=a(17),s=a.n(o),i=(a(160),a(161),a(85)),l=a(16),d=a(65),u=a(66),j=a(25),b=a(81),h=a(80),g=function(e){return Object(r.jsx)("div",{className:"bannerContainer",children:Object(r.jsx)("img",{className:"logo",src:"https://bbqbucket2020.s3.us-east-2.amazonaws.com/logo.jpg"})})},p=a(12),O=a(282),x=a(281),m=a(139),f=a(283),v=a(302),y=a(131),S=a.n(y),N=a(30),T=a.n(N),w=(a(180),a(101));function C(e){var t=c.a.useState(!1),a=Object(p.a)(t,2),n=a[0],o=a[1],s=c.a.useState("Santa Rita Ranch South"),i=Object(p.a)(s,2),l=i[0],d=i[1],u=c.a.useState(""),j=Object(p.a)(u,2),b=j[0],h=j[1],g=c.a.useState(""),y=Object(p.a)(g,2),N=y[0],C=y[1],I=c.a.useState(new Date),P=Object(p.a)(I,2),R=P[0],k=P[1],D=c.a.useState(""),q=Object(p.a)(D,2),A=q[0],E=q[1],_=c.a.useState(null),B=Object(p.a)(_,2),M=B[0],z=B[1];console.log("props",e);var F=Object(x.a)((function(e){return{paper:{position:"absolute",width:400,maxHeight:800,backgroundColor:e.palette.background.paper,border:"none",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"5%"}}})),G=Object(m.a)({overrides:{MuiButton:{text:{background:"linear-gradient(45deg, rgb(204, 146, 146) 30%, rgb(241, 210, 210) 90%)",fontWeight:"bold",borderRadius:3,border:0,color:"white",height:48,padding:"0 30px",boxShadow:"0 3px 5px 2px  grey"}}}}),L=F(),J=function(){o(!1)},Q=Object(r.jsxs)("div",{className:L.paper,children:[Object(r.jsx)("h2",{id:"simple-modal-title",children:"Delivery Info"}),Object(r.jsxs)("h3",{children:["Total $",e.priceString]}),Object(r.jsx)("div",{className:"order-summary"}),Object(r.jsx)("div",{className:"order-form",children:Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault(),T.a.post("/addOrder",{address:N,customerName:b,deliveryDate:R,neighborhood:l,cartItems:e.cartItems,email:A,phone:M}).then((function(t){var a={from_name:"christopher.murray.bbqdev@gmail.com",to_name:A,customerName:b,message_html:function(){var t="",a=[];for(var r in e.cartItems)a.push(r);for(var n=0;n<a.length;n++)n===a.length-1?t+="".concat(a[n]):t+="".concat(a[n],", ");return console.log(t),t}()};for(var r in w.send("service_6gxzrwa","template_fu5eins",a,"user_975JwJzPB6r4yxiDzOfHn"),e.cartItems)T.a.post("./updateQuantity",{quantity:e.cartItems[r].originalQuantity-e.cartItems[r].quantity,productName:r}).then((function(e){})).catch((function(e){console.log(e)}));J(),e.clearOrder()})).catch((function(e){e&&console.log(e)}))},children:[Object(r.jsxs)("label",{children:["Select Your Neighborhood:",Object(r.jsx)("br",{}),Object(r.jsxs)("select",{value:l,onChange:function(e){return d(e.target.value)},children:[Object(r.jsx)("option",{value:"Santa Rita Ranch South",children:"Santa Rita Ranch South"}),Object(r.jsx)("option",{value:"Santa Rita Ranch North",children:"Santa Rita Ranch North"}),Object(r.jsx)("option",{value:"Morningstar",children:"Morningstar"})]})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{children:["Name:",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{children:["Street Address:",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",value:N,onChange:function(e){return C(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{children:["Email Address:",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",value:A,onChange:function(e){return E(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{children:["Phone:",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",value:M,onChange:function(e){return z(e.target.value)}})]}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{children:["Delivery Date",Object(r.jsx)("br",{}),Object(r.jsx)(S.a,{selected:R,onChange:function(e){return k(e)},minDate:new Date,maxDate:new Date(2021,1,31)})]}),Object(r.jsx)("br",{}),Object(r.jsx)(O.a,{type:"submit",value:"Submit",children:"Submit"})]})})]});return console.log((new Date).toISOString().slice(0,19).replace("T"," ")),Object(r.jsxs)("div",{children:[Object(r.jsx)(f.a,{theme:G,children:Object(r.jsx)(O.a,{className:"checkoutButton",onClick:function(){o(!0)},children:"Checkout"})}),Object(r.jsx)(v.a,{open:n,onClose:J,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Q})]})}w.init("user_975JwJzPB6r4yxiDzOfHn");var I=function(e){var t=e.convertPriceToString(e.total),a=null;if(e.cartItems){console.log(Object.keys(e.cartItems),"item length");var n=Object.keys(e.cartItems);console.log("products",e.products,"selected Items",typeof n[0]),a=n.map((function(t){return Object(r.jsxs)("div",{children:[e.cartItems[t].quantity," X ",t,": $",e.convertPriceToString(e.cartItems[t].price*e.cartItems[t].quantity)]})}))}return Object(r.jsxs)("div",{className:"cart-container",children:[a,"Total Due: $",t,Object(r.jsx)(C,{clearOrder:e.clearOrder,priceString:t,total:e.total,products:e.products,cartItems:e.cartItems})]})},P=a(301),R=a(291),k=a(284),D=a(285),q=a(286),A=a(290),E=a(288),_=a(287),B=a(289),M=a(300),z=a(134),F=a.n(z),G=function(e){var t=e.loaded,a=e.products,n=e.addToCart,o=e.cartItems,s=e.convertPriceToString,i=c.a.useState(!1),l=Object(p.a)(i,2),d=l[0],u=l[1],j=c.a.useState("0"),b=Object(p.a)(j,2),h=b[0],g=b[1],m=c.a.useState(""),f=Object(p.a)(m,2),y=(f[0],f[1],c.a.useState({})),S=Object(p.a)(y,2),N=S[0],T=S[1],w=(Object(k.a)("(min-width:600px)"),c.a.useState("")),C=Object(p.a)(w,2),I=C[0],P=C[1];console.log("T/F?",!o);var R=0,z=N.quantity,G=Object(x.a)({root:{width:250,marginTop:25,marginBottom:25,height:400,outline:"none",border:"none",float:"left"},media:{height:250,width:250},formMedia:{width:"100%",height:"auto",borderRadius:"10%"},productBox:{display:"flex",flexFlow:"row wrap",padding:"8px",margin:"8px"},cardContainer:{display:"block",boxSizing:"border-box",marginLeft:"auto",marginRight:"auto",paddingLeft:"16px",paddingRight:"16px"}}),L=Object(x.a)((function(e){return{paper:{position:"absolute",width:400,maxHeight:800,backgroundColor:e.palette.background.paper,border:"none",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)",margin:"0 auto",display:"table",textAlign:"center",borderRadius:"5%"},form:{display:"inline-block",textAlign:"center",left:"40%",marginLeft:"auto",marginRight:"auto"}}})),J=G(),Q=L(),Z=function(){u(!1)};o[N.product_name]&&(R=o[N.product_name].quantity,z=N.quantity-R);var $=Object(r.jsxs)("div",{className:Q.paper,children:[console.log("ASJIFJIJDSF",N.price),Object(r.jsx)("img",{className:J.formMedia,src:N.image_url}),Object(r.jsx)("h2",{id:"simple-modal-title",children:N.product_name}),Object(r.jsxs)("h3",{children:["$",s(parseInt(N.price))]}),Object(r.jsxs)("div",{className:"order-form",children:[z<5?Object(r.jsxs)("div",{children:["Only ",z," left"]}):null,Object(r.jsxs)("form",{className:Q.form,onSubmit:function(e){console.log("currentQuantity",z,"selectedQuantity",R),e.preventDefault(),console.log("currentProduct",N),"0"===h?alert("Please select a quantity greater than zero"):(n({productName:N.product_name,quantity:parseInt(h),price:N.price,id:N.id,originalQuantity:N.quantity}),Z())},children:[Object(r.jsxs)("label",{children:["Quantity:",Object(r.jsx)("select",{onChange:function(e){return g(e.target.value)},children:function(){for(var e=[],t=0;t<=z;t++)e.push(Object(r.jsx)("option",{value:t,children:t}));return e}()})]}),Object(r.jsx)(O.a,{type:"submit",children:Object(r.jsx)(F.a,{})})]})]})]}),H=[];return console.log(t),t?(H=a,Object(r.jsx)(M.a,{className:J.productBox,display:"flex",p:1,m:1,children:H.map((function(e){console.log("ZZZZZZZZZ",e);var t=e.price.toString();return console.log(t.length),t.includes(".")?1===t.split(".")[1].length&&(console.log("NEW STRING",t),t+="0",console.log("STRING AGAIN",t)):t+=".00",Object(r.jsxs)("div",{className:J.cardContainer,children:[Object(r.jsxs)(D.a,{onMouseOver:function(){P(e.product_name)},onMouseOut:function(){P("")},raised:I===e.product_name,className:J.root,onClick:function(){T(e),u(!0)},children:[Object(r.jsxs)(q.a,{children:[Object(r.jsx)(_.a,{className:J.media,image:e.image_url,title:e.product_name}),Object(r.jsxs)(E.a,{children:[Object(r.jsx)(B.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.product_name}),Object(r.jsxs)(B.a,{variant:"body2",color:"textSecondary",component:"p",children:["$",t]})]})]}),Object(r.jsx)(A.a,{})]}),Object(r.jsx)(v.a,{open:d,onClose:Z,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:$})]})}))})):null};var L=function(e){Object(k.a)("(min-width:800px)");var t=c.a.useState(0),a=Object(p.a)(t,2),n=a[0],o=a[1],s=c.a.useState(null),i=Object(p.a)(s,2),l=i[0],d=i[1],u=c.a.useState("none"),j=Object(p.a)(u,2);j[0],j[1],console.log("PROPPPP",e);var b=Object(x.a)((function(e){return{paper:{justifyContent:"center",color:"red",backgroundColor:"white"},hovered:{color:"white",backgroundColor:"red"},scroller:{flexGrow:"0"}}}))(),h=e.categories.map((function(e){return console.log(e),Object(r.jsx)(R.a,{onMouseEnter:function(){var t;t=e,console.log("CATEGORY",t),d(t)},onMouseLeave:function(){d("")},className:l===e?b.hovered:b.paper,label:e})}));return Object(r.jsxs)("div",{children:[Object(r.jsx)(P.a,{classes:{root:b.paper,scroller:b.scroller},value:n,variant:"scrollable",scrollButtons:"auto",onChange:function(t,a){o(a),e.getProducts(e.categories[a])},centered:!0,children:h}),Object(r.jsx)(G,{convertPriceToString:e.convertPriceToString,addToCart:e.addToCart,products:e.products,loaded:e.loaded,cartItems:e.cartItems})]})},J=a(135),Q=a(292);var Z=function(e){var t=Object(x.a)((function(e){return{paper:{border:"none",boxShadow:e.shadows[5],padding:e.spacing(1),marginTop:"15px",backgroundColor:e.palette.background.paper,zIndex:3,height:"400px",width:"400px",borderRadius:"5%"},button:{height:"40px",float:"right",marginRight:"15px"}}}))(),a=c.a.useState(null),n=Object(p.a)(a,2),o=n[0],s=n[1],i=Boolean(o),l=i?"simple-popper":void 0;return Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{className:t.button,"aria-describedby":l,type:"button",onClick:function(e){s(o?null:e.currentTarget)},children:"Cart(0)"}),Object(r.jsx)(Q.a,{id:l,open:i,anchorEl:o,placement:"bottom",disablePortal:!1,modifiers:{arrow:{enabled:!0,element:"arrowRef"}},children:Object(r.jsx)("div",{className:t.paper,children:"The content of the Popper."})})]})},$=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).convertPriceToString=function(e){var t=e.toString();return t.includes(".")?1===t.split(".")[1].length&&(console.log("NEW STRING",t),t+="0",console.log("STRING AGAIN",t)):t+=".00",t},r.getCategories=function(){T.a.get("/categories").then((function(e){console.log("CATEGORIES",e.data);for(var t=[],a=0;a<e.data.length;a++)t.push(e.data[a].name);r.setState({categories:t})}))},r.state={products:[],loaded:!1,total:0,cart:{},categories:[]},r.getProducts=r.getProducts.bind(Object(j.a)(r)),r.addToCart=r.addToCart.bind(Object(j.a)(r)),r.clearOrder=r.clearOrder.bind(Object(j.a)(r)),r.getCategories=r.getCategories.bind(Object(j.a)(r)),r.convertPriceToString=r.convertPriceToString.bind(Object(j.a)(r)),r}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getProducts("meats"),this.getCategories()}},{key:"getProducts",value:function(e){var t=this;T.a.get("/products",{params:{product:e}}).then((function(e){t.setState({products:e.data,loaded:!0})})).catch((function(e){console.log(e)}))}},{key:"addToCart",value:function(e){var t=this.state.total,a=this.state.cart;console.log("ITEMMMM",e),a[e.productName]?a[e.productName].quantity+=e.quantity:a[e.productName]={quantity:e.quantity,id:e.id,originalQuantity:e.originalQuantity,price:e.price},console.log("TOTAL TYPE",typeof t),t+=e.price*e.quantity,console.log("parse",parseInt(t)),this.setState({cart:a,total:t})}},{key:"clearOrder",value:function(){this.setState({cart:{},total:0})}},{key:"render",value:function(){return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("div",{className:"fixed-header",children:Object(r.jsx)(Z,{})}),Object(r.jsx)("div",{className:"header",children:Object(r.jsx)(g,{})}),Object(r.jsx)("div",{className:"body",children:Object(r.jsx)(L,{addToCart:this.addToCart,getProducts:this.getProducts,products:this.state.products,loaded:this.state.loaded,cartItems:this.state.cart,categories:this.state.categories,convertPriceToString:this.convertPriceToString})}),Object(r.jsx)("div",{className:"bbqList",children:Object(r.jsx)(I,{clearOrder:this.clearOrder,total:this.state.total,products:this.state.products,cartItems:this.state.cart,convertPriceToString:this.convertPriceToString})}),Object(r.jsx)("div",{className:"footer"})]})})}}]),a}(J.Component),H=a(296),W=a(298),Y=a(294),U=a(299),X=a(297),K=a(293),V=a(256),ee=a(303),te=a(295),ae=a(138),re=a.n(ae),ne=a(137),ce=a.n(ne),oe=Object(x.a)({root:{"& > *":{borderBottom:"unset"}}});var se=function(e){var t=e.row,a=c.a.useState(!1),n=Object(p.a)(a,2),o=n[0],s=n[1],i=oe();t.products=t.products||[],console.log("ROW!!!!!!!",t);var l=t.deliveryDate.split("-"),d=l[0],u=l[2].slice(0,2),j=l[1],b="".concat(j,"/").concat(u,"/").concat(d);return Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsxs)(K.a,{className:i.root,children:[Object(r.jsx)(Y.a,{children:Object(r.jsx)(te.a,{"aria-label":"expand row",size:"small",onClick:function(){return s(!o)},children:o?Object(r.jsx)(ce.a,{}):Object(r.jsx)(re.a,{})})}),Object(r.jsx)(Y.a,{component:"th",scope:"row",children:t.name}),Object(r.jsx)(Y.a,{align:"right",children:t.neighborhood}),Object(r.jsx)(Y.a,{align:"right",children:t.address}),Object(r.jsx)(Y.a,{align:"right",children:t.email}),Object(r.jsx)(Y.a,{align:"right",children:t.phone}),Object(r.jsx)(Y.a,{align:"right",children:b}),Object(r.jsx)(Y.a,{align:"right",children:t.total}),Object(r.jsx)("button",{children:"order fulfilled"})]}),Object(r.jsx)(K.a,{children:Object(r.jsx)(Y.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(r.jsx)(ee.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(r.jsxs)(M.a,{margin:1,children:[Object(r.jsx)(B.a,{variant:"h6",gutterBottom:!0,component:"div",children:"Order Summary"}),Object(r.jsxs)(H.a,{size:"small","aria-label":"purchases",children:[Object(r.jsx)(X.a,{children:Object(r.jsxs)(K.a,{children:[Object(r.jsx)(Y.a,{align:"right",children:"Quantity"}),Object(r.jsx)(Y.a,{children:"Product"}),Object(r.jsx)(Y.a,{children:"Price"})]})}),Object(r.jsx)(W.a,{children:t.products.map((function(e){return console.log("proRo",e),Object(r.jsxs)(K.a,{children:[Object(r.jsx)(Y.a,{align:"right",children:e.quantity}),Object(r.jsx)(Y.a,{component:"th",scope:"row",children:e.productName}),Object(r.jsxs)(Y.a,{children:["$",e.price]})]},e.productName)}))})]})]})})})})]})},ie=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={rows:[],orders:{},loaded:!1},r.createData=r.createData.bind(Object(j.a)(r)),r.fillRows=r.fillRows.bind(Object(j.a)(r)),r.getOrders=r.getOrders.bind(Object(j.a)(r)),r}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getOrders()}},{key:"getOrders",value:function(){var e=this;T.a.get("/getOrders").then((function(t){for(var a in console.log("getOrders",t.data),e.setState({orders:t.data,loaded:!0}),console.log("!!!!",e.state.orders),e.state.orders){for(var r=0,n=0;n<e.state.orders[a].products.length;n++)r+=e.state.orders[a].products[n].price;console.log("TOTAL!!",r)}})).then((function(t){e.fillRows()})).catch((function(e){console.log(e)}))}},{key:"createData",value:function(e,t,a,r,n,c,o,s){return{name:e,neighborhood:t,address:a,email:r,phone:n,deliveryDate:c,total:o,products:s}}},{key:"fillRows",value:function(){var e=[];for(var t in this.state.orders){console.log("PRODUCT",t,"STATE ORDERS",this.state.orders);for(var a=0,r=0;r<this.state.orders[t].products.length;r++)a+=this.state.orders[t].products[r].price*this.state.orders[t].products[r].quantity;var n=a.toString();console.log(n.length),n.includes(".")?(1===n.split(".")[1].length&&(n+="0"),n.split(".")[1].length>2&&(n=n.split(".")[0]+"."+n.split(".")[1].slice(0,2))):n+=".00",console.log("TOTAL BEFORE PUSHING",n),e.push(this.createData(this.state.orders[t].customer,this.state.orders[t].neighborhood,this.state.orders[t].address,this.state.orders[t].email,this.state.orders[t].phone,this.state.orders[t].deliveryDate,"$".concat(n),this.state.orders[t].products))}console.log("America",e),this.setState({rows:e})}},{key:"render",value:function(){return Object(r.jsx)(U.a,{component:V.a,children:Object(r.jsxs)(H.a,{"aria-label":"collapsible table",children:[Object(r.jsx)(X.a,{children:Object(r.jsxs)(K.a,{children:[Object(r.jsx)(Y.a,{}),Object(r.jsx)(Y.a,{children:" Customer Name"}),Object(r.jsx)(Y.a,{align:"right",children:"Neighborhood"}),Object(r.jsx)(Y.a,{align:"right",children:"Address"}),Object(r.jsx)(Y.a,{align:"right",children:"Email"}),Object(r.jsx)(Y.a,{align:"right",children:"Phone"}),Object(r.jsx)(Y.a,{align:"right",children:"Delivery Date "}),Object(r.jsx)(Y.a,{align:"right",children:"Total"})]})}),Object(r.jsx)(W.a,{children:this.state.rows.map((function(e){return Object(r.jsx)(se,{row:e},e.name)}))})]})})}}]),a}(c.a.Component);function le(){return Object(r.jsxs)(i.a,{children:[Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{path:"/orders",children:Object(r.jsx)(ie,{})}),Object(r.jsx)(l.a,{path:"/",children:Object(r.jsx)($,{})})]}),Object(r.jsx)("div",{children:Object(r.jsx)("nav",{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(i.b,{to:"/",children:"Home"})}),Object(r.jsx)("li",{children:Object(r.jsx)(i.b,{to:"/orders",children:"Orders"})})]})})})]})}var de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,305)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),c(e),o(e)}))};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(le,{})}),document.getElementById("root")),de()}},[[248,1,2]]]);
//# sourceMappingURL=main.9f8dbc1f.chunk.js.map