(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{173:function(e,t,n){},174:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),o=n.n(r),c=n(12),i=n.n(c),s=(n(173),n(51)),l=n(52),d=n(57),u=n(56),b=(n(174),n(85)),j=n(17),h=n(25),g=function(e){return Object(a.jsx)("div",{className:"bannerContainer",children:Object(a.jsx)("img",{className:"logo",src:"https://bbqbucket2020.s3.us-east-2.amazonaws.com/logo.jpg"})})},p=n(9),m=n(290),O=n(289),x=n(310),f=n(142),v=n.n(f),y=n(19),S=n.n(y),C=(n(129),n(107));function w(e){var t=o.a.useState(!1),n=Object(p.a)(t,2),r=n[0],c=n[1],i=o.a.useState("Santa Rita Ranch South"),s=Object(p.a)(i,2),l=s[0],d=s[1],u=o.a.useState(""),b=Object(p.a)(u,2),j=b[0],h=b[1],g=o.a.useState(""),f=Object(p.a)(g,2),y=f[0],w=f[1],N=o.a.useState(new Date),T=Object(p.a)(N,2),I=T[0],R=T[1],k=o.a.useState(""),P=Object(p.a)(k,2),A=P[0],E=P[1],D=o.a.useState(null),q=Object(p.a)(D,2),L=q[0],Q=q[1],M=o.a.useState("red"),_=Object(p.a)(M,2),B=_[0],F=_[1],G=o.a.useState("white"),z=Object(p.a)(G,2),W=z[0],H=z[1],U=o.a.useState("none"),Z=Object(p.a)(U,2),$=Z[0],J=Z[1],Y=o.a.useState("red"),V=Object(p.a)(Y,2),K=V[0],X=V[1],ee=o.a.useState("white"),te=Object(p.a)(ee,2),ne=te[0],ae=te[1],re=o.a.useState("none"),oe=Object(p.a)(re,2),ce=oe[0],ie=oe[1];console.log("props",e);var se=Object(O.a)((function(e){return{paper:{position:"absolute",width:400,maxHeight:800,backgroundColor:e.palette.background.paper,border:"none",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"5%"},button:{background:B,color:W,cursor:"pointer",fontWeight:"bold",outline:"none",borderRadius:2,border:$,height:48,padding:"0 30px",boxShadow:"0 3px 5px 2px  grey",display:"block",marginLeft:"auto",marginRight:"auto",bottom:0},submitButton:{background:K,color:ne,cursor:"pointer",fontWeight:"bold",outline:"none",borderRadius:2,border:ce,height:48,padding:"0 30px",boxShadow:"0 3px 5px 2px  grey",display:"block",marginLeft:"auto",marginRight:"auto",bottom:0}}}))(),le=function(){c(!1)},de=Object(a.jsxs)("div",{className:se.paper,children:[Object(a.jsx)("h2",{id:"simple-modal-title",children:"Delivery Info"}),Object(a.jsxs)("h3",{children:["Total $",e.priceString]}),Object(a.jsx)("div",{className:"order-summary"}),Object(a.jsx)("div",{className:"order-form",children:Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),console.log("SUBMIT BEING HANDLED AND STUFF"),S.a.post("/addOrder",{address:y,customerName:j,deliveryDate:I,neighborhood:l,cartItems:e.cartItems,email:A,phone:L}).then((function(t){var n={from_name:"christopher.murray.bbqdev@gmail.com",to_name:A,customerName:j,message_html:function(){var t="",n=[];for(var a in e.cartItems)n.push(a);for(var r=0;r<n.length;r++)r===n.length-1?t+="".concat(n[r]):t+="".concat(n[r],", ");return console.log(t),t}()};for(var a in C.send("service_6gxzrwa","template_fu5eins",n,"user_975JwJzPB6r4yxiDzOfHn"),e.cartItems)S.a.post("./updateQuantity",{quantity:e.cartItems[a].originalQuantity-e.cartItems[a].quantity,productName:a}).then((function(e){})).catch((function(e){console.log(e)}));le(),e.clearOrder()})).catch((function(e){e&&console.log(e)}))},children:[Object(a.jsxs)("label",{children:["Select Your Neighborhood:",Object(a.jsx)("br",{}),Object(a.jsxs)("select",{value:l,onChange:function(e){return d(e.target.value)},children:[Object(a.jsx)("option",{value:"Santa Rita Ranch South",children:"Santa Rita Ranch South"}),Object(a.jsx)("option",{value:"Santa Rita Ranch North",children:"Santa Rita Ranch North"}),Object(a.jsx)("option",{value:"Morningstar",children:"Morningstar"})]})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:["Name:",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",value:j,onChange:function(e){return h(e.target.value)}})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:["Street Address:",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",value:y,onChange:function(e){return w(e.target.value)}})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:["Email Address:",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",value:A,onChange:function(e){return E(e.target.value)}})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:["Phone:",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",value:L,onChange:function(e){return Q(e.target.value)}})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:["Delivery Date",Object(a.jsx)("br",{}),Object(a.jsx)(v.a,{selected:I,onChange:function(e){return R(e)},minDate:new Date,maxDate:new Date(2021,1,31)})]}),Object(a.jsx)("br",{}),Object(a.jsx)(m.a,{className:se.submitButton,type:"submit",value:"Submit",onMouseEnter:function(){X("white"),ae("red"),ie("0")},onMouseLeave:function(){X("red"),ae("white"),ie("none")},children:"Submit"})]})})]});return console.log((new Date).toISOString().slice(0,19).replace("T"," ")),Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:se.button,onClick:function(){c(!0)},onMouseEnter:function(){F("white"),H("red"),J("0")},onMouseLeave:function(){F("red"),H("white"),J("none")},children:"PROCEED TO CHECKOUT"}),Object(a.jsx)(x.a,{open:r,onClose:le,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:de})]})}C.init("user_975JwJzPB6r4yxiDzOfHn");var N=function(e){e.convertPriceToString(e.total);if(e.cartItems){console.log(Object.keys(e.cartItems),"item length");var t=Object.keys(e.cartItems);console.log("products",e.products,"selected Items",typeof t[0]),t.map((function(t){return Object(a.jsxs)("div",{children:[e.cartItems[t].quantity," X ",t,": $",e.convertPriceToString(e.cartItems[t].price*e.cartItems[t].quantity)]})}))}return Object(a.jsx)("div",{className:"cart-container"})},T=n(309),I=n(298),R=n(291),k=n(292),P=n(293),A=n(297),E=n(295),D=n(294),q=n(296),L=n(308),Q=n(145),M=n.n(Q),_=function(e){var t=e.loaded,n=e.products,r=e.addToCart,c=e.cartItems,i=e.convertPriceToString,s=o.a.useState(!1),l=Object(p.a)(s,2),d=l[0],u=l[1],b=o.a.useState("0"),j=Object(p.a)(b,2),h=j[0],g=j[1],f=o.a.useState(""),v=Object(p.a)(f,2),y=(v[0],v[1],o.a.useState({})),S=Object(p.a)(y,2),C=S[0],w=S[1],N=(Object(R.a)("(min-width:600px)"),o.a.useState("")),T=Object(p.a)(N,2),I=T[0],Q=T[1];console.log("T/F?",!c);var _=0,B=C.quantity,F=Object(O.a)({root:{width:250,marginTop:25,marginBottom:25,height:400,outline:"none",border:"none",float:"left",alignItems:"center"},media:{height:250,width:250},formMedia:{width:"100%",height:"auto",borderRadius:"10%"},productBox:{display:"flex",flexFlow:"row wrap",padding:"8px",margin:"8px"},cardContainer:{display:"block",boxSizing:"border-box",marginLeft:"auto",marginRight:"auto",paddingLeft:"16px",paddingRight:"16px"}}),G=Object(O.a)((function(e){return{paper:{position:"absolute",width:400,maxHeight:800,backgroundColor:e.palette.background.paper,border:"none",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)",margin:"0 auto",display:"table",textAlign:"center",borderRadius:"5%"},form:{display:"inline-block",textAlign:"center",left:"40%",marginLeft:"auto",marginRight:"auto"}}})),z=F(),W=G(),H=function(){u(!1)};c[C.product_name]&&(_=c[C.product_name].quantity,B=C.quantity-_);var U=Object(a.jsxs)("div",{className:W.paper,children:[console.log("ASJIFJIJDSF",C.price),Object(a.jsx)("img",{className:z.formMedia,src:C.image_url}),Object(a.jsx)("h2",{id:"simple-modal-title",children:C.product_name}),console.log("CCCCCCCCCCCCCCCCC",C.price),Object(a.jsxs)("h3",{children:["$",C.price]}),Object(a.jsxs)("div",{className:"order-form",children:[B<5?Object(a.jsxs)("div",{children:["Only ",B," left"]}):null,Object(a.jsxs)("form",{className:W.form,onSubmit:function(e){console.log("currentQuantity",B,"selectedQuantity",_),e.preventDefault(),console.log("currentProduct",C),"0"===h?alert("Please select a quantity greater than zero"):(r({productName:C.product_name,quantity:parseInt(h),price:C.price,id:C.id,originalQuantity:C.quantity,productInfo:C}),H())},children:[Object(a.jsxs)("label",{children:["Quantity:",Object(a.jsx)("select",{onChange:function(e){return g(e.target.value)},children:function(){for(var e=[],t=0;t<=B;t++)e.push(Object(a.jsx)("option",{value:t,children:t}));return e}()})]}),Object(a.jsx)(m.a,{type:"submit",children:Object(a.jsx)(M.a,{})})]})]})]}),Z=[];return console.log(t),t?(Z=n,Object(a.jsx)(L.a,{className:z.productBox,display:"flex",p:1,m:1,children:Z.map((function(e){console.log("ZZZZZZZZZ",e),console.log("PROD PRICE",e.price);var t=i(e.price);return console.log("PS",t),Object(a.jsxs)("div",{className:z.cardContainer,children:[Object(a.jsxs)(k.a,{onMouseOver:function(){Q(e.product_name)},onMouseOut:function(){Q("")},raised:I===e.product_name,className:z.root,onClick:function(){var t=e;t.price=i(e.price),w(t),u(!0)},children:[Object(a.jsxs)(P.a,{children:[Object(a.jsx)(D.a,{className:z.media,image:e.image_url,title:e.product_name}),Object(a.jsxs)(E.a,{children:[Object(a.jsx)(q.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.product_name}),Object(a.jsxs)(q.a,{variant:"body2",color:"textSecondary",component:"p",children:["$",t]})]})]}),Object(a.jsx)(A.a,{})]}),Object(a.jsx)(x.a,{open:d,onClose:H,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:U})]})}))})):null};var B=function(e){Object(R.a)("(min-width:800px)");var t=o.a.useState(0),n=Object(p.a)(t,2),r=n[0],c=n[1],i=o.a.useState(null),s=Object(p.a)(i,2),l=s[0],d=s[1],u=Object(O.a)((function(e){return{paper:{justifyContent:"center",color:"red",backgroundColor:"white"},hovered:{color:"white",backgroundColor:"red"},scroller:{flexGrow:"0"}}}))(),b=e.categories.map((function(e){return console.log(e),Object(a.jsx)(I.a,{onMouseEnter:function(){var t;t=e,console.log("CATEGORY",t),d(t)},onMouseLeave:function(){d("")},className:l===e?u.hovered:u.paper,label:e})}));return Object(a.jsxs)("div",{children:[Object(a.jsx)(T.a,{classes:{root:u.paper,scroller:u.scroller},value:r,variant:"scrollable",scrollButtons:"auto",onChange:function(t,n){c(n),e.getProducts(e.categories[n])},centered:!0,children:b}),Object(a.jsx)(_,{convertPriceToString:e.convertPriceToString,addToCart:e.addToCart,products:e.products,loaded:e.loaded,cartItems:e.cartItems})]})},F=n(146),G=n(300),z=n(147),W=n(299),H=n(148);function U(){var e=Object(z.a)(["&&{\n\n  z-index: 2;\n  &[x-placement*=\"bottom\"] .arrow{\n\n    width: 0;\n    height: 0;\n    border-left: 1em solid transparent;\n    border-right: 1em solid transparent;\n    border-bottom: 1em solid white;\n    margin-top: -0.9em;\n\n    &:before {\n      border-width: '0 1em 1em 1em';\n      border-color: 'transparent transparent white transparent';\n    }\n  }\n\n  &[x-placement*=\"top\"] .arrow{\n\n    width: 0;\n    height: 0;\n    border-left: 1em solid transparent;\n    border-right: 1em solid transparent;\n    border-bottom: 1em solid white;\n    margin-top: -0.9em;\n\n    &:before {\n      border-width: '0 1em 1em 1em';\n      border-color: 'transparent transparent white transparent';\n    }\n  }\n\n  &[x-placement*=\"right\"] .arrow{\n\n    left: 0;\n    width: 0;\n    height: 0;\n    border-top: 1em solid transparent;\n    border-bottom: 1em solid transparent;\n    border-right: 1em solid white;\n    margin-left: -0.9em;\n\n    &:before {\n      border-width: 1em 1em 1em 0;\n      border-color: transparent white transparent transparent;\n    }\n  }\n\n  &[x-placement*=\"left\"] .arrow{\n\n    right: 0;\n    width: 0;\n    height: 0;\n    border-top: 1em solid transparent;\n    border-bottom: 1em solid transparent;\n    border-left: 1em solid white;\n    margin-right: -0.9em;\n\n    &:before {\n      border-width: 1em 0 1em 1em;\n      border-color: transparent transparent transparent white;\n    }\n  }\n\n  .arrow {\n    position: absolute;\n    font-size: 7px;\n    width: 3em;\n    height: 3em;\n\n    &:before {\n      content: '\"\"',\n      margin: auto;\n      display: 'grid';\n      width: 0;\n      height: 0;\n      border-style: solid;\n    }\n  }\n\n  .popper-content {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: white;\n    color: black;\n    height: 90px;\n    width: 160px;\n  }\n\n}"]);return U=function(){return e},e}var Z=Object(H.a)(W.a)(U()),$=Object(O.a)({root:{height:"64px",display:"grid",gridTemplateColumns:"1fr 2fr 1fr",gridTemplateRows:"1fr",gridTemplateAreas:"'image product quantity'"},media:{height:"64px",borderRadius:"15%",gridArea:"image"},wrapper:{},text:{marginLeft:"25px",verticalAlign:"middle",margin:"auto",gridArea:"product"},quantButton:{marginTop:"20px",marginLeft:"20px",gridArea:"quantity",verticalAlign:"middle",float:"right"},quantString:{marginLeft:"5px",marginRight:"5px"}}),J=function(e){var t,n=$();console.log("CART ITEM ITEM",e.item);for(var r=0;r<e.products.length;r++)e.products[r].id===e.item.id&&(t=e.products[r]);return console.log("CP",t),Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)("img",{className:n.media,src:e.item.productInfo.image_url}),Object(a.jsxs)("h4",{className:n.text,children:[" ",e.item.productInfo.product_name," $",e.convertPriceToString(e.item.quantity*e.item.productInfo.price)]}),Object(a.jsxs)("div",{className:n.quantButton,children:[Object(a.jsx)("button",{className:"value-button",id:"decrease",onClick:function(){console.log("hit in cart item de"),e.decreaseQuantity(e.item.productInfo.product_name)},children:"-"}),Object(a.jsx)("span",{className:n.quantString,children:e.item.quantity}),Object(a.jsx)("button",{className:"value-button",id:"increase",onClick:function(){console.log("hit in cart item inc"),e.increaseQuantity(e.item.productInfo.product_name)},value:"Increase Value",children:"+"})]})]})},Y=n(110),V=n(111);var K=function(e){var t=o.a.useState(!1),n=Object(p.a)(t,2),r=n[0],c=n[1],i=o.a.useState("400px"),s=Object(p.a)(i,2),l=(s[0],s[1],o.a.useState(null)),d=Object(p.a)(l,2),u=d[0],b=d[1],j=o.a.useState(null),h=Object(p.a)(j,2),g=h[0],m=h[1],x=Object(O.a)((function(e){return{paper:{border:"none",boxShadow:e.shadows[5],padding:e.spacing(1),backgroundColor:e.palette.background.paper,zIndex:3,height:"max-content",minHeight:"400px",width:"500px",borderRadius:"6px",margin:"auto",display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridTemplateRows:"4fr 1fr",gridTemplateAreas:" 'side list side'  'side checkout side"},buttonContainer:{display:"flex",flexDirection:"row",textAlign:"center",marginLeft:"85%"},button:{height:"38px",width:"38px",background:"white",border:"none",color:"red",cursor:"pointer",textAlign:"center",display:"inline-block",outline:"none"},cartContainer:{gridArea:"list"},checkoutArea:{gridArea:"checkout"},total:{height:"64px"},totalText:{marginLeft:"40%"},emptyCart:{alignItems:"center"}}}))(),f=o.a.useRef();console.log("nodey node:",f);var v=[];for(var y in e.cartItems)v.push(e.cartItems[y]);var S=0;for(var C in e.cartItems)S+=e.cartItems[C].price*e.cartItems[C].quantity;return Object(a.jsx)(G.a,{onClickAway:function(e){r&&(b(null),c(!1))},children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:x.buttonContainer,children:Object(a.jsxs)("button",{className:x.button,onClick:function(e){b(u?null:e.currentTarget),console.log("ANCHORS AWAY!",u),c(!r)},children:[Object(a.jsx)(Y.a,{icon:V.a,size:"2x"}),Object(a.jsx)("span",{children:e.quantity})]})}),Object(a.jsxs)(Z,{ref:f,placement:"top",open:r,anchorEl:u,modifiers:{flip:{enabled:!0},arrow:{enabled:!0,element:g},preventOverflow:{enabled:"true",boundariesElement:"scrollParent"}},children:[Object(a.jsx)("span",{className:"arrow",ref:m}),Object(a.jsxs)("div",{className:x.paper,children:[Object(a.jsx)("div",{className:"cartContainer",children:e.quantity>0?v.map((function(t){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J,{increaseQuantity:e.increaseQuantity,decreaseQuantity:e.decreaseQuantity,products:e.products,item:t,convertPriceToString:e.convertPriceToString}),Object(a.jsx)("hr",{})]})})):Object(a.jsxs)("div",{children:[Object(a.jsx)(Y.a,{className:x.emptyCart,icon:V.a,size:"5x"}),Object(a.jsx)("h1",{className:x.emptyCart,children:"Your Cart Is Empty"})]})}),Object(a.jsx)("div",{className:"checkoutArea",children:e.quantity>0?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:x.total,children:[Object(a.jsx)("hr",{}),Object(a.jsxs)("h2",{className:x.totalText,children:["$",e.convertPriceToString(S)]})]}),Object(a.jsx)(w,{clearOrder:e.clearOrder,total:S,products:e.products,cartItems:e.cartItems})]}):null})]})]})]})})},X=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).cartQuantityCalc=function(){var e=0;for(var t in a.state.cart)console.log("IQ",t),e+=a.state.cart[t].quantity;a.setState({quantity:e})},a.convertPriceToString=function(e){var t=e.toString();return console.log("First String",t),t.includes(".")?1===t.split(".")[1].length?(console.log("NEW STRING",t),t+="0",console.log("STRING AGAIN",t)):(t=t.split(".")[0]+"."+t.split(".")[1].slice(0,2),console.log("STRINGY STRING STRING,",t)):t+=".00",t},a.getCategories=function(){S.a.get("/categories").then((function(e){console.log("CATEGORIES",e.data);for(var t=[],n=0;n<e.data.length;n++)t.push(e.data[n].name);a.setState({categories:t})}))},a.state={products:[],loaded:!1,total:0,cart:{},categories:[],quantity:0},a.getProducts=a.getProducts.bind(Object(h.a)(a)),a.addToCart=a.addToCart.bind(Object(h.a)(a)),a.clearOrder=a.clearOrder.bind(Object(h.a)(a)),a.getCategories=a.getCategories.bind(Object(h.a)(a)),a.convertPriceToString=a.convertPriceToString.bind(Object(h.a)(a)),a.cartQuantityCalc=a.cartQuantityCalc.bind(Object(h.a)(a)),a.increaseQuantity=a.increaseQuantity.bind(Object(h.a)(a)),a.decreaseQuantity=a.decreaseQuantity.bind(Object(h.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getProducts("meats"),this.getCategories(),this.cartQuantityCalc()}},{key:"getProducts",value:function(e){var t=this;S.a.get("/products",{params:{product:e}}).then((function(e){t.setState({products:e.data,loaded:!0})})).catch((function(e){console.log(e)}))}},{key:"increaseQuantity",value:function(e){console.log("CALLED IN INCREASE");var t=this.state.cart;t[e].quantity++,this.setState({cart:t}),this.cartQuantityCalc()}},{key:"decreaseQuantity",value:function(e){var t=this.state.cart;t[e].quantity--,0===t[e].quantity&&delete t[e],this.setState({cart:t}),this.cartQuantityCalc()}},{key:"addToCart",value:function(e){var t=this.state.total,n=this.state.cart;console.log("ITEMMMM",e),n[e.productName]?n[e.productName].quantity+=e.quantity:n[e.productName]={quantity:e.quantity,id:e.id,originalQuantity:e.originalQuantity,price:e.price,image:e.image_url,productInfo:e.productInfo},this.cartQuantityCalc(),console.log("TOTAL TYPE",typeof t),t+=e.price*e.quantity,console.log("parse",parseInt(t)),this.setState({cart:n,total:t})}},{key:"clearOrder",value:function(){this.setState({cart:{},total:0}),this.cartQuantityCalc()}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"fixed-header",children:Object(a.jsx)(K,{clearOrder:this.clearOrder,total:this.state.total,products:this.state.products,cartItems:this.state.cart,convertPriceToString:this.convertPriceToString,quantity:this.state.quantity,increaseQuantity:this.increaseQuantity,decreaseQuantity:this.decreaseQuantity})}),Object(a.jsx)("div",{className:"header",children:Object(a.jsx)(g,{})}),Object(a.jsx)("div",{className:"body",children:Object(a.jsx)(B,{addToCart:this.addToCart,getProducts:this.getProducts,loaded:this.state.loaded,products:this.state.products,cartItems:this.state.cart,categories:this.state.categories,convertPriceToString:this.convertPriceToString})}),Object(a.jsx)("div",{className:"bbqList",children:Object(a.jsx)(N,{clearOrder:this.clearOrder,total:this.state.total,products:this.state.products,cartItems:this.state.cart,convertPriceToString:this.convertPriceToString})}),Object(a.jsx)("div",{className:"footer"})]})})}}]),n}(F.Component),ee=n(304),te=n(306),ne=n(302),ae=n(307),re=n(305),oe=n(301),ce=n(269),ie=n(311),se=n(303),le=n(154),de=n.n(le),ue=n(153),be=n.n(ue),je=Object(O.a)({root:{"& > *":{borderBottom:"unset"}}});var he=function(e){var t=e.row,n=o.a.useState(!1),r=Object(p.a)(n,2),c=r[0],i=r[1],s=je();t.products=t.products||[],console.log("ROW!!!!!!!",t);var l=t.deliveryDate.split("-"),d=l[0],u=l[2].slice(0,2),b=l[1],j="".concat(b,"/").concat(u,"/").concat(d);return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsxs)(oe.a,{className:s.root,children:[Object(a.jsx)(ne.a,{children:Object(a.jsx)(se.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!c)},children:c?Object(a.jsx)(be.a,{}):Object(a.jsx)(de.a,{})})}),Object(a.jsx)(ne.a,{component:"th",scope:"row",children:t.name}),Object(a.jsx)(ne.a,{align:"right",children:t.neighborhood}),Object(a.jsx)(ne.a,{align:"right",children:t.address}),Object(a.jsx)(ne.a,{align:"right",children:t.email}),Object(a.jsx)(ne.a,{align:"right",children:t.phone}),Object(a.jsx)(ne.a,{align:"right",children:j}),Object(a.jsx)(ne.a,{align:"right",children:t.total}),Object(a.jsx)("button",{children:"order fulfilled"})]}),Object(a.jsx)(oe.a,{children:Object(a.jsx)(ne.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(a.jsx)(ie.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(a.jsxs)(L.a,{margin:1,children:[Object(a.jsx)(q.a,{variant:"h6",gutterBottom:!0,component:"div",children:"Order Summary"}),Object(a.jsxs)(ee.a,{size:"small","aria-label":"purchases",children:[Object(a.jsx)(re.a,{children:Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(ne.a,{align:"right",children:"Quantity"}),Object(a.jsx)(ne.a,{children:"Product"}),Object(a.jsx)(ne.a,{children:"Price"})]})}),Object(a.jsx)(te.a,{children:t.products.map((function(e){return console.log("proRo",e),Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(ne.a,{align:"right",children:e.quantity}),Object(a.jsx)(ne.a,{component:"th",scope:"row",children:e.productName}),Object(a.jsxs)(ne.a,{children:["$",e.price]})]},e.productName)}))})]})]})})})})]})},ge=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).getCategories=function(){S.a.get("/categories").then((function(e){console.log("CATEGORIES",e.data);for(var t=[],n=0;n<e.data.length;n++)t.push(e.data[n].name);a.setState({categories:t})}))},a.state={rows:[],orders:{},loaded:!1},a.createData=a.createData.bind(Object(h.a)(a)),a.fillRows=a.fillRows.bind(Object(h.a)(a)),a.getOrders=a.getOrders.bind(Object(h.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getOrders()}},{key:"getOrders",value:function(){var e=this;S.a.get("/getOrders").then((function(t){for(var n in console.log("getOrders",t.data),e.setState({orders:t.data,loaded:!0}),console.log("!!!!",e.state.orders),e.state.orders){for(var a=0,r=0;r<e.state.orders[n].products.length;r++)a+=e.state.orders[n].products[r].price;console.log("TOTAL!!",a)}})).then((function(t){e.fillRows()})).catch((function(e){console.log(e)}))}},{key:"createData",value:function(e,t,n,a,r,o,c,i){return{name:e,neighborhood:t,address:n,email:a,phone:r,deliveryDate:o,total:c,products:i}}},{key:"fillRows",value:function(){var e=[];for(var t in this.state.orders){console.log("PRODUCT",t,"STATE ORDERS",this.state.orders);for(var n=0,a=0;a<this.state.orders[t].products.length;a++)n+=this.state.orders[t].products[a].price*this.state.orders[t].products[a].quantity;var r=n.toString();console.log(r.length),r.includes(".")?(1===r.split(".")[1].length&&(r+="0"),r.split(".")[1].length>2&&(r=r.split(".")[0]+"."+r.split(".")[1].slice(0,2))):r+=".00",console.log("TOTAL BEFORE PUSHING",r),e.push(this.createData(this.state.orders[t].customer,this.state.orders[t].neighborhood,this.state.orders[t].address,this.state.orders[t].email,this.state.orders[t].phone,this.state.orders[t].deliveryDate,"$".concat(r),this.state.orders[t].products))}console.log("America",e),this.setState({rows:e})}},{key:"render",value:function(){return Object(a.jsx)(ae.a,{component:ce.a,children:Object(a.jsxs)(ee.a,{"aria-label":"collapsible table",children:[Object(a.jsx)(re.a,{children:Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(ne.a,{}),Object(a.jsx)(ne.a,{children:" Customer Name"}),Object(a.jsx)(ne.a,{align:"right",children:"Neighborhood"}),Object(a.jsx)(ne.a,{align:"right",children:"Address"}),Object(a.jsx)(ne.a,{align:"right",children:"Email"}),Object(a.jsx)(ne.a,{align:"right",children:"Phone"}),Object(a.jsx)(ne.a,{align:"right",children:"Delivery Date "}),Object(a.jsx)(ne.a,{align:"right",children:"Total"})]})}),Object(a.jsx)(te.a,{children:this.state.rows.map((function(e){return Object(a.jsx)(he,{row:e},e.name)}))})]})})}}]),n}(o.a.Component),pe=Object(O.a)({root:{"& > *":{borderBottom:"unset"}},button:{background:"red",color:"white",cursor:"pointer",fontWeight:"bold",outline:"none",borderRadius:2,height:48,padding:"0 30px",boxShadow:"0 3px 5px 2px  grey",display:"block",marginLeft:"auto",marginRight:"auto",bottom:0},hovered:{background:"white",color:"red",cursor:"pointer",fontWeight:"bold",outline:"none",borderRadius:2,height:48,padding:"0 30px",boxShadow:"0 3px 5px 2px  grey",display:"block",marginLeft:"auto",marginRight:"auto",bottom:0}});var me=function(e){var t=o.a.useState(!1),n=Object(p.a)(t,2),r=n[0],c=n[1],i=e.row;console.log("ROW",i);var s=pe();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(oe.a,{className:s.root,children:[Object(a.jsx)(ne.a,{align:"right",component:"th",scope:"row",children:i.product_name}),Object(a.jsx)(ne.a,{align:"right",children:i.quantity}),Object(a.jsxs)(ne.a,{align:"right",children:["$",e.convertPriceToString(i.price)]}),Object(a.jsxs)(ne.a,{align:"right",children:["$",i.category]}),Object(a.jsx)("button",{onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)},className:r?s.hovered:s.button,onClick:function(){var t;console.log("ROW ROW ROW",i.id),t=i.id,S.a.delete("/inventory",{data:{id:t}}).then((function(t){console.log("INV DELETE",t),e.getInventory()}))},children:"DELETE"})]})})};function Oe(e){console.log("proppy props",e);var t=o.a.useState(!1),n=Object(p.a)(t,2),r=n[0],c=n[1],i=o.a.useState(""),s=Object(p.a)(i,2),l=s[0],d=s[1],u=o.a.useState(0),b=Object(p.a)(u,2),j=b[0],h=b[1],g=o.a.useState("Meats"),f=Object(p.a)(g,2),v=f[0],y=f[1],C=o.a.useState([]),w=Object(p.a)(C,2),N=w[0],T=(w[1],o.a.useState("")),I=Object(p.a)(T,2),R=I[0],k=I[1],P=o.a.useState(null),A=Object(p.a)(P,2),E=A[0],D=A[1],q=o.a.useState("red"),L=Object(p.a)(q,2),Q=L[0],M=L[1],_=o.a.useState("white"),B=Object(p.a)(_,2),F=B[0],G=B[1],z=o.a.useState("none"),W=Object(p.a)(z,2),H=W[0],U=W[1],Z=o.a.useState("red"),$=Object(p.a)(Z,2),J=$[0],Y=$[1],V=o.a.useState("white"),K=Object(p.a)(V,2),X=K[0],ee=K[1],te=o.a.useState("none"),ne=Object(p.a)(te,2),ae=ne[0],re=ne[1],oe=o.a.useState(null),ce=Object(p.a)(oe,2),ie=ce[0],se=ce[1],le=o.a.useState(!1),de=Object(p.a)(le,2);de[0],de[1];console.log("CATS ARE CUTE",N);console.log("props",e);var ue=Object(O.a)((function(e){return{paper:{position:"absolute",width:400,maxHeight:800,backgroundColor:e.palette.background.paper,border:"none",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),outline:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"5%"},button:{background:Q,color:F,cursor:"pointer",fontWeight:"bold",outline:"none",borderRadius:2,border:H,height:48,padding:"0 30px",boxShadow:"0 3px 5px 2px  grey",display:"block",marginLeft:"auto",marginRight:"auto",bottom:0},submitButton:{background:J,color:X,cursor:"pointer",fontWeight:"bold",outline:"none",borderRadius:2,border:ae,height:48,padding:"0 30px",boxShadow:"0 3px 5px 2px  grey",display:"block",marginLeft:"auto",marginRight:"auto",bottom:0}}})),be=function(e){var t=new FormData;e?(t.append("profileImage",e,e.name),S.a.post("/profile-img-upload",t,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data; boundary=".concat(t._boundary)}}).then((function(e){if(200===e.status)if(e.data.error)"LIMIT_FILE_SIZE"===e.data.error.code?console.log("Max size: 2MB","red"):(console.log(e.data),console.log(e.data.error,"red"));else{var t=e.data;console.log("fileName",t),k(t.location),console.log("File Uploaded","#3089cf")}})).catch((function(e){console.log(e,"red")}))):console.log("Please upload file","red",e)},je=ue(),he=function(){c(!1)},ge=Object(a.jsxs)("div",{className:je.paper,children:[Object(a.jsx)("h2",{id:"simple-modal-title",children:"Add Product"}),Object(a.jsx)("div",{className:"order-summary"}),Object(a.jsx)("div",{className:"order-form",children:Object(a.jsxs)("form",{children:[Object(a.jsxs)("label",{children:["Product Name:",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",value:l,onChange:function(e){return d(e.target.value)}})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:["Quantity:",Object(a.jsx)("br",{}),Object(a.jsx)("input",{name:"Quantity",type:"number",value:j,onChange:function(e){return h(e.target.value)}})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:["Category:",Object(a.jsx)("br",{}),Object(a.jsx)("select",{onChange:function(e){return y(e.target.value)},children:function(){console.log("CATS IN THE PULLDOWN",e.categories);for(var t=[],n=0;n<e.categories.length;n++)console.log("CAT ITEM",e.categories[n].name),t.push(Object(a.jsx)("option",{value:e.categories[n].name,children:e.categories[n].name}));return t}()})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:["Price:",Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"text",value:E,onChange:function(e){return D(e.target.value)}})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("p",{className:"card-text",children:"Please upload an image"}),Object(a.jsx)("input",{type:"file",onChange:function(e){console.log("FILESSSS",e.files),function(e){console.log("EVENT TARGETY THING",e.target.files[0]);var t=e.target.files[0];se(t),console.log("selected file after being selected",t,ie),be(t)}(e)}}),Object(a.jsx)("div",{className:"mt-5"})]}),Object(a.jsx)("br",{}),Object(a.jsx)(m.a,{className:je.submitButton,type:"submit",value:"Submit",onMouseEnter:function(){Y("white"),ee("red"),re("0")},onMouseLeave:function(){Y("red"),ee("white"),re("none")},onClick:function(t){!function(t){t.preventDefault(),console.log(l,v,j,E,R),S.a.post("/addItem",{productName:l,category:v,quantity:j,imageUrl:R,price:E}).then((function(t){d(""),y("Meats"),h(0),k(""),D(null),e.getInventory(),he()}))}(t)},children:"Add Item"})]})})]});return Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:je.button,onClick:function(){c(!0)},onMouseEnter:function(){M("white"),G("red"),U("0")},onMouseLeave:function(){M("red"),G("white"),U("none")},children:"ADD AN ITEM"}),Object(a.jsx)(x.a,{open:r,onClose:he,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:ge})]})}var xe=function(e){var t=o.a.useState([]),n=Object(p.a)(t,2),r=n[0],c=n[1];console.log("INV PROPS",e),o.a.useEffect((function(){i()}),[]);var i=function(){S.a.get("/inventory").then((function(e){c(e.data),console.log("INV",e.data)}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"header"}),Object(a.jsx)("div",{children:Object(a.jsx)(ae.a,{component:ce.a,children:Object(a.jsxs)(ee.a,{children:[Object(a.jsx)(re.a,{children:Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(ne.a,{align:"right",children:" Product "}),Object(a.jsx)(ne.a,{align:"right",children:"Quantity"}),Object(a.jsx)(ne.a,{align:"right",children:"Price"}),Object(a.jsx)(ne.a,{align:"right",children:"Category"})]})}),Object(a.jsx)(te.a,{children:r.map((function(t){return Object(a.jsx)(me,{row:t,getInventory:i,convertPriceToString:e.convertPriceToString})}))})]})})}),Object(a.jsx)(Oe,{getInventory:i,getCategories:e.getCategories,categories:e.categories})]})},fe=function(e){var t=o.a.useState([]),n=Object(p.a)(t,2),r=n[0],c=n[1],i=o.a.useState(0),s=Object(p.a)(i,2),l=s[0],d=s[1],u=o.a.useState(Object(a.jsx)("div",{children:Object(a.jsx)(ge,{})})),b=Object(p.a)(u,2),j=b[0],h=b[1],g=Object(O.a)((function(e){return{paper:{justifyContent:"center",color:"red",backgroundColor:"white"},hovered:{color:"white",backgroundColor:"red"},scroller:{flexGrow:"0"}}}))(),m=["orders","inventory","completed orders"],x=function(){S.a.get("/categories").then((function(e){console.log("CUTE CAT DATA",e.data),c(e.data)}))},f=m.map((function(e){return console.log(e),Object(a.jsx)(I.a,{className:g.paper,label:e})})),v=function(e){var t=e.toString();return console.log("First String",t),t.includes(".")?1===t.split(".")[1].length?(console.log("NEW STRING",t),t+="0",console.log("STRING AGAIN",t)):(t=t.split(".")[0]+"."+t.split(".")[1].slice(0,2),console.log("STRINGY STRING STRING,",t)):t+=".00",t};o.a.useEffect((function(){x()}),[]);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"admin-header",children:Object(a.jsx)(T.a,{classes:{root:g.paper,scroller:g.scroller},value:l,variant:"scrollable",scrollButtons:"auto",onChange:function(e,t){if(console.log("CAT DAT",x()),d(t),"orders"===m[t])h(Object(a.jsx)("div",{children:Object(a.jsx)(ge,{})}));else if("inventory"===m[t]){h(Object(a.jsx)("div",{children:Object(a.jsx)(xe,{convertPriceToString:v,categories:r,getCategories:x})}))}else h(null)},centered:!0,children:f})}),Object(a.jsx)("div",{children:j})]})},ve=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(b.a,{children:[Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{path:"/Admin",children:Object(a.jsx)(fe,{})}),Object(a.jsx)(j.a,{path:"/",children:Object(a.jsx)(X,{})})]}),Object(a.jsx)("div",{children:Object(a.jsx)("nav",{children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(b.b,{to:"/",children:"Home"})}),Object(a.jsx)("li",{children:Object(a.jsx)(b.b,{to:"/Admin",children:"Orders"})})]})})})]})}}]),n}(o.a.Component),ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,313)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))};i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(ve,{})}),document.getElementById("root")),ye()}},[[261,1,2]]]);
//# sourceMappingURL=main.e1839bac.chunk.js.map